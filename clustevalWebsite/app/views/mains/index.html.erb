<% content_for :title, "Welcome!" %>
  <p>clusteval is a free and extendable opensource platform for objective performance comparison of arbitrary Clustering Methods on different datasets. It is designed to support the standard processes related to Cluster Analyses. [1]</p>
  <p>You can find a list of all available clustering methods under <%= link_to "Clustering Methods",Program %> in the menu. There are <%= Program.all(session).count %> different clustering methods available. Similarly, the available datasets can be found under <%= link_to "Datasets",Dataset %>. There are <%= Dataset.all(session).count %> datasets available.</p>
<% @repositories = Repository.where(:repository_type_id => RepositoryType.find_by_name('Repository').id) %>
<% if @repositories.length > 1 %>
  <h2>Repository</h2>
  This website shows all information from one central repository. You can select a different repository here:
  <%= form_tag({:action => 'index'}, {:method => 'post'}) do %>
  <%= collection_select(:repository, :repository_id, @repositories, :id, :basePath, {:selected => Repository.find_by_basePath(session[:repository_id]).id}) %>
  <%= submit_tag('Change') %>
  <% end %>
<% end %>
<h2>Use-Case</h2>
<div class="usecase">
<div class="graph_node">
  <b>1. Inputs</b><br>
  Provide the inputs to the clusteval backend.<br>
  <%= link_to "-> Data Sets", Dataset %><br>
  <%= link_to "-> Clustering Methods", Program %><br>
  <%= link_to "-> Measures", ClusteringQualityMeasure %><br>
</div>
<div class="vertical_line" style="width:200px;"></div>
<div class="graph_node">
  <b>2. Clustering Process</b><br>
  Perform a clustering process using<br> the clusteval backend.<br>

</div>
<div class="vertical_line" style="width:200px;"></div>
<div class="graph_node">
  <b>3. Overview</b><br>
  Get an <%= link_to "-> Overview", :controller => :mains, :action => :comparison %> over all <br>achieved clustering qualities.
</div>
<p></p>
<div class="graph_node">
  <b>6. Specific Data Set</b><br>
  Take a look at the achieved qualities<br>
  on a single data set.<br>
  <%= link_to "-> Data Sets -> " + Dataset.all(session).first.alias + " -> Best Qualities", :controller => :datasets, :action => :show_comparison, :id => Dataset.all(session).first %>
</div>
<div class="vertical_line" style="width:20px;"></div>
<div class="graph_node">
  <b>5. Which Parameter Sets?</b><br>
  ... and find out with which parameter sets this method<br> achieved the best qualities by clicking on the qualities.<br>
  <%= link_to "-> Clustering Methods -> " + Program.all(session).first.alias + " -> Best Parameters", :controller => :programs, :action => :show_bestclusterings, :id => Program.all(session).first, :dataset_filter => Dataset.all(session).first %>.
</div>
<div class="vertical_line" style="width:20px;"></div>
<div class="graph_node">
  <b>4. Specific Clustering Method</b><br>
  Take a look at the achieved qualities<br>
  of a single clustering method.<br>
  <%= link_to "-> Clustering Methods -> " + Program.all(session).first.alias + " -> Best Qualities", :controller => :programs, :action => :show_performance, :id => Program.all(session).first %>.
</div>
<p></p>
<div class="graph_node">
  <b>7. Which Parameter Sets?</b><br>
  ... and find out with which parameter sets the optimal<br> clusterings were achieved on this data set by clicking on the qualities.<br>
  <%= link_to "-> Data Sets -> " + Dataset.all(session).first.alias + " -> Best Parameters", :controller => :datasets, :action => :show_bestclusterings, :id => Dataset.all(session).first, :program_filter => Program.all(session).first %>.
</div>
</div>

<h2>Download & Installation</h2>
You are interested in downloading and installing clusteval on your own server? Please refer to the help section <%= link_to "over here", HelpInstallation %>.
<% if @current_user %>
<h2>Statistics</h2>
<table id="statistics" class="display">
  <thead>
  <tr>
    <th>Information</th>
    <th>Value</th>
  </tr>
 </thead>
 <tbody>
  <tr>
    <td>Number of Runs</td><td><%= Run.all(session).count %></td>
  </tr>
  <tr>
    <td>Number of Datasets</td><td><%= Dataset.all(session).count %></td>
  </tr>
  <tr>
    <td>Number of Goldstandards</td><td><%= Goldstandard.all(session).count %></td>
  </tr>
  <tr>
    <td>Number of Programs</td><td><%= Program.all(session).count %></td>
  </tr>
  <tr>
    <td>Number of Run Results</td><td><%= RunResult.all(session).count %></td>
  </tr>
</tbody>
</table>
<% end %>